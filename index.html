<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –Ω–æ–≤–∏–Ω–∏</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-neutral-900 text-white min-h-screen">

<!-- HEADER -->
<header class="sticky top-0 bg-neutral-900 border-b border-neutral-800 p-4 flex justify-between items-center">
  <button id="menuBtn">‚ò∞</button>
  <h1 class="font-bold text-xl">–ù–æ–≤–∏–Ω–∏ üá∫üá¶</h1>
</header>

<!-- SIDEBAR -->
<aside id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-neutral-800 p-4 -translate-x-full transition z-50">
  <button id="closeBtn" class="mb-4">‚úï</button>
  <div class="space-y-2">
    <button onclick="loadNews('https://www.pravda.com.ua/rss/')" class="block w-full text-left">–£–ü</button>
    <button onclick="loadNews('https://tsn.ua/rss')" class="block w-full text-left">–¢–°–ù</button>
    <button onclick="loadNews('https://24tv.ua/rss/all.xml')" class="block w-full text-left">24 –ö–∞–Ω–∞–ª</button>
  </div>
</aside>

<div id="overlay" class="fixed inset-0 bg-black/60 hidden z-40"></div>

<!-- CONTENT -->
<main class="p-4 space-y-4" id="news"></main>

<script>
const newsEl = document.getElementById('news');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');

menuBtn.onclick = () => {
  sidebar.classList.remove('-translate-x-full');
  overlay.classList.remove('hidden');
};
closeBtn.onclick = closeSidebar;
overlay.onclick = closeSidebar;

function closeSidebar(){
  sidebar.classList.add('-translate-x-full');
  overlay.classList.add('hidden');
}

async function loadNews(rss){
  closeSidebar();
  newsEl.innerHTML = '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶';

  const url = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rss)}`;

  try{
    const res = await fetch(url);
    const data = await res.json();

    newsEl.innerHTML = '';

    data.items.slice(0,15).forEach(item=>{
      const div = document.createElement('div');
      div.className = 'bg-neutral-800 p-4 rounded-xl';
      div.innerHTML = `
        <h2 class="font-semibold mb-2">${item.title}</h2>
        <p class="text-sm text-neutral-300 mb-2">${item.description.replace(/<[^>]*>/g,'').slice(0,150)}‚Ä¶</p>
        <a href="${item.link}" target="_blank" class="text-blue-400">–ß–∏—Ç–∞—Ç–∏ ‚Üí</a>
      `;
      newsEl.appendChild(div);
    });

  }catch{
    newsEl.innerHTML = '–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è üò¢';
  }
}

// —Å—Ç–∞—Ä—Ç
loadNews('https://www.pravda.com.ua/rss/');
</script>

</body>
</html>
